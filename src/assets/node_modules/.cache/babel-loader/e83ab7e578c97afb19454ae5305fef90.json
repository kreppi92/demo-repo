{"ast":null,"code":"import _regeneratorRuntime from\"/Users/satraj/Documents/web/satstreet/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/satraj/Documents/web/satstreet/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/satraj/Documents/web/satstreet/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/satraj/Documents/web/satstreet/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/satraj/Documents/web/satstreet/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/satraj/Documents/web/satstreet/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/satraj/Documents/web/satstreet/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/satraj/Documents/web/satstreet/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/satraj/Documents/web/satstreet/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Button from'@material-ui/core/Button';import CircularProgress from'@material-ui/core/CircularProgress';import Dialog from'@material-ui/core/Dialog';import IconButton from'@material-ui/core/IconButton';import Paper from'@material-ui/core/Paper';import TextField from'@material-ui/core/TextField';import Typography from'@material-ui/core/Typography';import ToggleButton from'@material-ui/lab/ToggleButton';import ToggleButtonGroup from'@material-ui/lab/ToggleButtonGroup';import{withStyles}from'@material-ui/core/styles';import{palette}from'../../constants/styles';import bitcoinIcon from\"../../images/bitcoin.svg\";import closeIcon from\"../../images/close.svg\";import Chart from'./Chart';import Deposit from'./Transactions/Deposit';import Transaction from'./Transactions/Transaction';import Firebase from'../../constants/firebase';import CustomSnackbar from'../shared/CustomSnackbar';import{pdf}from\"@react-pdf/renderer\";import{saveAs}from\"file-saver\";import{CopyToClipboard}from'react-copy-to-clipboard';import Certificate from\"./Certificate\";var bitcoinConverter=require('bitcoin-units');var currencyFormatter=require('currency-formatter');var QRCode=require('qrcode.react');var store=require('store');var EMAIL=\"email\";var GIFT=\"gift\";var timerID=null;var currency='';var styles={address:{fontSize:\"13px\"},circularProgress:{color:palette.blue[0]},bitcoinIcon:{height:\"100px\",margin:\"0 0 20px 0\",opacity:0.2,width:\"100px\"},cancelButton:{background:palette.red[0],margin:\"25px 0 0 0\",\"&:hover\":{background:palette.red[-1]}},confirmButton:{background:palette.green[0],\"&:hover\":{background:palette.green[-1]}},container:{display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\",flexWrap:\"wrap\",width:\"100%\",\"@media (min-width:780px)\":{width:\"80%\"}},contentContainer:{display:\"flex\",justifyContent:\"center\",flexDirection:\"column\",alignItems:\"center\",padding:\"40px 20px 40px 20px\",\"@media (min-width:780px)\":{padding:\"40px 40px 40px 40px\"}},dialogContent:{padding:\"15px 20px 50px 20px\"},dialogTitleContainer:{alignItems:\"center\",display:\"flex\",flexDirection:\"row\",fontSize:\"23px\",fontWeight:700,height:\"60px\",justifyContent:\"space-between\",margin:\"10px 0 30px 0\",padding:\"0 0 0 5px\"},iconButton:{height:\"30px\",width:\"30px\"},closeIcon:{color:palette.blue[0],margin:\"-5px -10px 0 0\"},link:{color:palette.blue[0],fontWeight:700,fontSize:\"13px\",textDecoration:\"none\",margin:\"5px 0 0 0\",\"&:hover\":{textDecoration:\"underline\"}},list:{display:\"flex\",flexDirection:\"column\",overflow:\"auto\",height:\"340px\",margin:\"20px 0 0 0\"},listEmpty:{alignItems:\"center\",display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",margin:\"20px 0 0 0\",overflow:\"auto\",height:\"340px\"},paperOptions:{boxShadow:\"none\",borderRadius:\"5px\",margin:\"30px 0 0 0\",minHeight:\"500px\",minWidth:\"300px\",width:\"100%\",\"@media (min-width:780px)\":{border:\"1px solid\",borderColor:palette.gray[0],margin:\"10vh 0 10vh 0\",width:\"30%\"}},paperOptionsEmpty:{alignItems:'center',display:'flex',flexDirection:'column',justifyContent:'center',minHeight:'500px',minWidth:'300px',width:'100%','@media (min-width:780px)':{border:'1px solid',borderColor:palette.gray[0],margin:'10vh 0 10vh 0',width:'30%'}},paperChart:{boxShadow:\"none\",borderRadius:\"5px\",minHeight:\"500px\",margin:\"30px 0 80px 0\",width:\"100%\",\"@media (min-width:780px)\":{border:\"1px solid\",borderColor:palette.gray[0],margin:\"10vh 0 10vh 0\",width:\"50%\"},\"@media (min-width:900px)\":{width:\"55%\"},\"@media (min-width:1000px)\":{width:\"60%\"},\"@media (min-width:1200px)\":{width:\"65%\"}},qrButtonContainer:{alignItems:\"center\",display:\"flex\",flexDirection:\"column\",justifyContent:\"space-around\",padding:\"40px 20px 0 20px\",maxWidth:\"400px\",width:\"100%\"},qrButton:{height:\"50px\",margin:\"0 0 15px 0\",width:\"100%\"},qrCode:{margin:\"60px 0 20px 0\"},textSeperator:{alignItems:\"center\",color:palette.blue[0],display:\"flex\",flexDirection:\"column\",fontSize:\"18px\",fontWeight:700,height:\"60px\",justifyContent:\"center\"},textField:{margin:\"0 0 25px 0\"},currencySummary:{alignItems:'center',color:palette.gray[2],display:'flex',justifyContent:'flex-end',width:'100%',fontWeight:'700',fontSize:'13px',margin:'-15px 0 20px 0'}};var Wallet=/*#__PURE__*/function(_Component){_inherits(Wallet,_Component);function Wallet(){var _getPrototypeOf2;var _this;_classCallCheck(this,Wallet);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Wallet)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={address:'',rate:0,balance:'',email:'',emailHelperText:'',emailError:false,amount:\"\",amountHelperText:\"\",amountError:false,sendDialogOpen:false,transactionListType:\"sent\",transactionDialogOpen:false,pendingConfirmation:false,isLoading:false,transactionType:EMAIL,receivedList:[],sentList:[],depositList:[],snackbarIsOpen:false,snackbarVariant:\"success\",snackbarMessage:\"\"};_this.getWalletAddress=function(token){var checkAddress=Firebase.functions().httpsCallable('checkAddress');checkAddress({token:token}).then(function(result){if(result.data.success){this.getAllTransactions(token,result.data.address);this.setTransactionService(token,result.data.address);}else{this.displaySnackbar('error',result.data.error);}}.bind(_assertThisInitialized(_this)));};_this.setTransactionService=function(token,address){timerID=setInterval(function(){this.getAllTransactions(token,address);}.bind(_assertThisInitialized(_this)),30000);};_this.getAllTransactions=function(token,address){var onChainTransactions=_this.getOnchainTransactions(token,address);var sentTransactions=_this.getSentTransactions(token);var receivedTransactions=_this.getReceivedTransactions(token);var currentRate=_this.getRate();Promise.all([onChainTransactions,sentTransactions,receivedTransactions,currentRate]).then(function(responses){var deposits=responses[0].transfers;var sentTransactions=responses[1];var receivedTransactions=responses[2];var currentRate=responses[3];var balance=0;deposits.map(function(deposit,index){if(deposit.state===\"confirmed\"&&deposit.type===\"receive\"){balance+=deposit.value;}});sentTransactions.map(function(sentTransaction,index){balance-=parseInt(sentTransaction.amount);});receivedTransactions.map(function(receivedTransaction,index){balance+=parseInt(receivedTransaction.amount);});_this.setState({address:address,depositList:deposits,sentList:sentTransactions,receivedList:receivedTransactions,balance:balance,rate:parseFloat(currentRate)});});};_this.getOnchainTransactions=function(token,address){var getOnchainTransactions=Firebase.functions().httpsCallable('getOnchainTransactions');return getOnchainTransactions({token:token,address:address}).then(function(result){if(result.data.success){return result.data.response;}else{return[];}}.bind(_assertThisInitialized(_this)));};_this.getSentTransactions=function(token){var getSentTransactions=Firebase.functions().httpsCallable('getSentTransactions');return getSentTransactions({token:token}).then(function(result){if(result.data.success){return result.data.transactions;}else{return[];}}.bind(_assertThisInitialized(_this)));};_this.getReceivedTransactions=function(token){var getReceivedTransactions=Firebase.functions().httpsCallable('getReceivedTransactions');return getReceivedTransactions({token:token}).then(function(result){if(result.data.success){return result.data.transactions;}else{return[];}}.bind(_assertThisInitialized(_this)));};_this.getRate=function(){var getRate=Firebase.functions().httpsCallable('getRate');return getRate({currency:currency}).then(function(result){if(result.data.success){return result.data.rate;}else{return[];}}.bind(_assertThisInitialized(_this)));};_this.displaySnackbar=function(variant,message){_this.setState({snackbarIsOpen:true,snackbarVariant:variant,snackbarMessage:message});};_this.handleCopyCode=function(){_this.setState({snackbarIsOpen:true,snackbarVariant:\"success\",snackbarMessage:\"Your wallet address was successfully copied.\"});};_this.onSnackBarClose=function(){_this.setState({snackbarIsOpen:false});};_this.handleChange=function(name){return function(event){var _this$setState;event.preventDefault();_this.setState((_this$setState={},_defineProperty(_this$setState,name,event.target.value),_defineProperty(_this$setState,\"emailHelperText\",\"\"),_defineProperty(_this$setState,\"emailError\",false),_defineProperty(_this$setState,\"amountHelperText\",\"\"),_defineProperty(_this$setState,\"amountError\",false),_this$setState));};};_this.handleTransactionSwitch=function(event,newTransactionListType){_this.setState({transactionListType:newTransactionListType});};_this.handleSendDialogClose=function(){_this.setState({sendDialogOpen:false});};_this.handleSendFunds=function(){_this.setState({email:'',amount:'',sendDialogOpen:true});};_this.handleDownloadGiftReceipt=function(){_this.validateForms(GIFT);};_this.handleSendEmail=function(){_this.validateForms(EMAIL);};_this.handleCancelTransaction=function(){_this.setState({pendingConfirmation:false});};_this.handleViewTransactions=function(){_this.setState({transactionDialogOpen:true});};_this.handleTransactionDialogClose=function(){_this.setState({transactionDialogOpen:false});};_this.handleConfirmTransaction=function(){var _this$state=_this.state,transactionType=_this$state.transactionType,email=_this$state.email,amount=_this$state.amount,address=_this$state.address;_this.setState({isLoading:true});var postTransaction=Firebase.functions().httpsCallable('postTransaction');return postTransaction({token:store.get('token'),toEmail:email,amount:amount,type:transactionType}).then(function(result){if(result.data.success){this.displaySnackbar('success',\"Transaction successfully created.\");if(transactionType===GIFT){this.downloadGift();}else{this.sendEmail();}this.setState({sendDialogOpen:false,pendingConfirmation:false,isLoading:false});this.getAllTransactions(store.get('token'),address);}else{this.displaySnackbar('error',result.data.error);}}.bind(_assertThisInitialized(_this)));};_this.sendEmail=function(){var _this$state2=_this.state,email=_this$state2.email,amount=_this$state2.amount;var sendEmailReceipt=Firebase.functions().httpsCallable('sendEmailReceipt');return sendEmailReceipt({token:store.get('token'),toEmail:email,amount:amount}).then(function(result){if(result.data.success){this.displaySnackbar('success',\"Your email receipt has been sent.\");}}.bind(_assertThisInitialized(_this)));};_this.downloadGift=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this$state3,email,amount,blob;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state3=_this.state,email=_this$state3.email,amount=_this$state3.amount;_context.next=3;return pdf(React.createElement(Certificate,{email:email,amount:amount})).toBlob();case 3:blob=_context.sent;saveAs(blob,\"Certificate.pdf\");case 5:case\"end\":return _context.stop();}}},_callee);}));return _this;}_createClass(Wallet,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(newProps){var address=this.state.address;if(store.get('token')&&address.length>0){currency=newProps.currency;this.getAllTransactions(store.get('token'),address);}}},{key:\"componentDidMount\",value:function componentDidMount(){if(store.get('token')){currency=this.props.currency;this.getWalletAddress(store.get('token'));}}},{key:\"componentDidUnmount\",value:function componentDidUnmount(){if(timerID){clearInterval(timerID);}}},{key:\"validateForms\",value:function validateForms(type){var _this$state4=this.state,email=_this$state4.email,amount=_this$state4.amount,balance=_this$state4.balance;var emailHasError=false;var emailErrorText=\"\";if(email===\"\"){emailHasError=true;emailErrorText=\"Please enter a valid email.\";}var amountHasError=false;var amountErrorText=\"\";if(amount===\"\"){amountHasError=true;amountErrorText=\"Please enter an amount.\";}else if(!/^\\d+$/.test(amount)){amountHasError=true;amountErrorText=\"This field should only contain numbers.\";}else if(parseInt(amount)>balance){amountHasError=true;amountErrorText=\"You cannot send more than your balance.\";}if(emailHasError||amountHasError){this.displayFormError(emailHasError,emailErrorText,amountHasError,amountErrorText);}else{this.setState({transactionType:type,pendingConfirmation:true});}}},{key:\"displayFormError\",value:function displayFormError(emailHasError,emailErrorText,amountHasError,amountErrorText){this.setState({emailError:emailHasError,emailHelperText:emailErrorText,amountError:amountHasError,amountHelperText:amountErrorText});}},{key:\"getTransactions\",value:function getTransactions(){var _this$state5=this.state,transactionListType=_this$state5.transactionListType,sentList=_this$state5.sentList,receivedList=_this$state5.receivedList,depositList=_this$state5.depositList;var classes=this.props.classes;if(transactionListType===\"sent\"){if(sentList.length===0){return React.createElement(\"div\",{className:classes.listEmpty},React.createElement(\"img\",{src:bitcoinIcon,className:classes.bitcoinIcon,alt:\"\"}),\"No sent transactions\");}else{return React.createElement(\"div\",{className:classes.list},sentList.map(function(transaction,index){return React.createElement(Transaction,{key:index,transaction:transaction});}));}}else if(transactionListType===\"received\"){if(receivedList.length===0){return React.createElement(\"div\",{className:classes.listEmpty},React.createElement(\"img\",{src:bitcoinIcon,className:classes.bitcoinIcon,alt:\"\"}),\"No received transactions\");}else{return React.createElement(\"div\",{className:classes.list},receivedList.map(function(transaction,index){return React.createElement(Transaction,{key:index,transaction:transaction});}));}}else if(transactionListType===\"deposits\"){if(depositList.length===0){return React.createElement(\"div\",{className:classes.listEmpty},React.createElement(\"img\",{src:bitcoinIcon,className:classes.bitcoinIcon,alt:\"\"}),\"No deposits\");}else{return React.createElement(\"div\",{className:classes.list},depositList.map(function(deposit,index){return React.createElement(Deposit,{key:index,deposit:deposit});}));}}}},{key:\"render\",value:function render(){var _this$state6=this.state,address=_this$state6.address,balance=_this$state6.balance,rate=_this$state6.rate,email=_this$state6.email,emailHelperText=_this$state6.emailHelperText,emailError=_this$state6.emailError,amount=_this$state6.amount,amountHelperText=_this$state6.amountHelperText,amountError=_this$state6.amountError,sendDialogOpen=_this$state6.sendDialogOpen,snackbarIsOpen=_this$state6.snackbarIsOpen,snackbarVariant=_this$state6.snackbarVariant,snackbarMessage=_this$state6.snackbarMessage,transactionListType=_this$state6.transactionListType,transactionDialogOpen=_this$state6.transactionDialogOpen,pendingConfirmation=_this$state6.pendingConfirmation,isLoading=_this$state6.isLoading;var classes=this.props.classes;var btcBalance=bitcoinConverter(parseInt(balance),'satoshi').to('BTC');var formattedCurrency=currencyFormatter.format(rate*btcBalance,{code:currency});return React.createElement(\"div\",{className:classes.container},address!==\"\"?React.createElement(Paper,{className:classes.paperOptions},React.createElement(\"div\",{className:classes.contentContainer},React.createElement(Typography,{variant:\"h4\",gutterBottom:true},balance.toString(),\" Sats\"),btcBalance.toString(),\" BTC - \",formattedCurrency,React.createElement(QRCode,{className:classes.qrCode,color:palette.blue[0],size:160,value:address}),React.createElement(\"div\",{className:classes.address},address),React.createElement(CopyToClipboard,{text:address},React.createElement(\"a\",{className:classes.link,href:\"#\",onClick:this.handleCopyCode},\"Copy\")),React.createElement(\"div\",{className:classes.qrButtonContainer},React.createElement(Button,{className:classes.qrButton,size:\"small\",variant:'contained',color:\"primary\",onClick:this.handleSendFunds},\"Send\"),React.createElement(Button,{className:classes.qrButton,size:\"small\",variant:'contained',color:\"secondary\",onClick:this.handleViewTransactions},\"View transactions\")))):React.createElement(Paper,{className:classes.paperOptionsEmpty},React.createElement(CircularProgress,{className:classes.circularProgress,variant:\"indeterminate\",disableShrink:true,size:24,thickness:4})),React.createElement(Paper,{className:classes.paperChart},React.createElement(Chart,{currency:currency})),React.createElement(Dialog,{onClose:this.handleSendDialogClose,open:sendDialogOpen,disableBackdropClick:true},React.createElement(\"div\",{className:classes.dialogContent},pendingConfirmation?React.createElement(\"div\",{className:classes.dialogTitleContainer},\"Confirm transaction\",React.createElement(\"div\",null)):React.createElement(\"div\",{className:classes.dialogTitleContainer},\"Send\",React.createElement(IconButton,{\"aria-label\":\"menu\",className:classes.closeIcon,onClick:this.handleSendDialogClose},React.createElement(\"img\",{src:closeIcon,className:classes.iconButton,alt:\"\"}))),React.createElement(TextField,{fullWidth:true,disabled:pendingConfirmation,error:emailError,className:classes.textField,id:\"outlined-email\",label:\"Email\",name:\"email\",type:\"email\",helperText:emailHelperText,value:email,onChange:this.handleChange(\"email\"),variant:\"outlined\"}),React.createElement(TextField,{fullWidth:true,disabled:pendingConfirmation,error:amountError,className:classes.textField,id:\"outlined-amount\",label:\"Amount in Sats\",name:\"amount\",helperText:amountHelperText,value:amount,onChange:this.handleChange(\"amount\"),variant:\"outlined\"}),React.createElement(\"div\",{className:classes.currencySummary},bitcoinConverter(parseInt(amount),'satoshi').to('BTC').toString(),\" BTC - \",currencyFormatter.format(rate*bitcoinConverter(parseInt(amount),'satoshi').to('BTC'),{code:currency})),pendingConfirmation?React.createElement(\"div\",null,React.createElement(Button,{className:classes.confirmButton,size:\"large\",variant:\"contained\",fullWidth:true,onClick:this.handleConfirmTransaction},isLoading?React.createElement(CircularProgress,{variant:\"indeterminate\",disableShrink:true,size:24,thickness:4}):\"Confirm transaction\"),React.createElement(Button,{disabled:isLoading,className:classes.cancelButton,size:\"large\",variant:\"contained\",fullWidth:true,onClick:this.handleCancelTransaction},\"Cancel\")):React.createElement(\"div\",null,React.createElement(Button,{className:classes.button,size:\"large\",variant:\"contained\",color:\"primary\",fullWidth:true,onClick:this.handleSendEmail},\"Send email\"),React.createElement(\"div\",{className:classes.textSeperator},\"Or\"),React.createElement(Button,{className:classes.button,size:\"large\",variant:\"contained\",color:\"primary\",fullWidth:true,onClick:this.handleDownloadGiftReceipt},\"Download gift receipt\")))),React.createElement(Dialog,{fullWidth:true,onClose:this.handleTransactionDialogClose,open:transactionDialogOpen,disableBackdropClick:true},React.createElement(\"div\",{className:classes.dialogContent},React.createElement(\"div\",{className:classes.dialogTitleContainer},\"Transactions\",React.createElement(IconButton,{\"aria-label\":\"menu\",className:classes.closeIcon,onClick:this.handleTransactionDialogClose},React.createElement(\"img\",{src:closeIcon,className:classes.iconButton,alt:\"\"}))),React.createElement(ToggleButtonGroup,{value:transactionListType,exclusive:true,onChange:this.handleTransactionSwitch},React.createElement(ToggleButton,{value:\"sent\"},\"Sent\"),React.createElement(ToggleButton,{value:\"received\"},\"Received\"),React.createElement(ToggleButton,{value:\"deposits\"},\"Deposits\")),this.getTransactions())),React.createElement(CustomSnackbar,{variant:snackbarVariant,message:snackbarMessage,open:snackbarIsOpen,onSnackBarClose:this.onSnackBarClose}));}}]);return Wallet;}(Component);export default withStyles(styles)(Wallet);","map":{"version":3,"sources":["/Users/satraj/Documents/web/satstreet/src/components/main/Wallet.js"],"names":["React","Component","Button","CircularProgress","Dialog","IconButton","Paper","TextField","Typography","ToggleButton","ToggleButtonGroup","withStyles","palette","Chart","Deposit","Transaction","Firebase","CustomSnackbar","pdf","saveAs","CopyToClipboard","Certificate","bitcoinConverter","require","currencyFormatter","QRCode","store","EMAIL","GIFT","timerID","currency","styles","address","fontSize","circularProgress","color","blue","bitcoinIcon","height","margin","opacity","width","cancelButton","background","red","confirmButton","green","container","display","flexDirection","justifyContent","flexWrap","contentContainer","alignItems","padding","dialogContent","dialogTitleContainer","fontWeight","iconButton","closeIcon","link","textDecoration","list","overflow","listEmpty","paperOptions","boxShadow","borderRadius","minHeight","minWidth","border","borderColor","gray","paperOptionsEmpty","paperChart","qrButtonContainer","maxWidth","qrButton","qrCode","textSeperator","textField","currencySummary","Wallet","state","rate","balance","email","emailHelperText","emailError","amount","amountHelperText","amountError","sendDialogOpen","transactionListType","transactionDialogOpen","pendingConfirmation","isLoading","transactionType","receivedList","sentList","depositList","snackbarIsOpen","snackbarVariant","snackbarMessage","getWalletAddress","token","checkAddress","functions","httpsCallable","then","result","data","success","getAllTransactions","setTransactionService","displaySnackbar","error","bind","setInterval","onChainTransactions","getOnchainTransactions","sentTransactions","getSentTransactions","receivedTransactions","getReceivedTransactions","currentRate","getRate","Promise","all","responses","deposits","transfers","map","deposit","index","type","value","sentTransaction","parseInt","receivedTransaction","setState","parseFloat","response","transactions","variant","message","handleCopyCode","onSnackBarClose","handleChange","name","event","preventDefault","target","handleTransactionSwitch","newTransactionListType","handleSendDialogClose","handleSendFunds","handleDownloadGiftReceipt","validateForms","handleSendEmail","handleCancelTransaction","handleViewTransactions","handleTransactionDialogClose","handleConfirmTransaction","postTransaction","get","toEmail","downloadGift","sendEmail","sendEmailReceipt","toBlob","blob","newProps","length","props","clearInterval","emailHasError","emailErrorText","amountHasError","amountErrorText","test","displayFormError","classes","transaction","btcBalance","to","formattedCurrency","format","code","toString","button","getTransactions"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Dialog from '@material-ui/core/Dialog'\nimport IconButton from '@material-ui/core/IconButton'\nimport Paper from '@material-ui/core/Paper'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport ToggleButton from '@material-ui/lab/ToggleButton'\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup'\nimport { withStyles } from '@material-ui/core/styles'\nimport { palette } from '../../constants/styles'\nimport bitcoinIcon from '../../images/bitcoin.svg'\nimport closeIcon from '../../images/close.svg'\nimport Chart from './Chart'\nimport Deposit from './Transactions/Deposit'\nimport Transaction from './Transactions/Transaction'\nimport Firebase from '../../constants/firebase'\nimport CustomSnackbar from '../shared/CustomSnackbar'\nimport { pdf } from \"@react-pdf/renderer\"\nimport { saveAs } from \"file-saver\"\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\nimport Certificate from \"./Certificate\"\n\nvar bitcoinConverter = require('bitcoin-units')\nvar currencyFormatter = require('currency-formatter')\nvar QRCode = require('qrcode.react')\nvar store = require('store')\n\nconst EMAIL = \"email\"\nconst GIFT = \"gift\"\nvar timerID = null\nvar currency = ''\n\nconst styles = {\n  address: {\n    fontSize: \"13px\"\n  },\n\n  circularProgress: {\n    color: palette.blue[0]\n  },\n\n  bitcoinIcon: {\n    height: \"100px\",\n    margin: \"0 0 20px 0\",\n    opacity: 0.2,\n    width: \"100px\"\n  },\n\n  cancelButton: {\n    background: palette.red[0],\n    margin: \"25px 0 0 0\",\n\n    \"&:hover\": {\n      background: palette.red[-1]\n    }\n  },\n\n  confirmButton: {\n    background: palette.green[0],\n\n    \"&:hover\": {\n      background: palette.green[-1]\n    }\n  },\n\n  container: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    flexWrap: \"wrap\",\n    width: \"100%\",\n\n    \"@media (min-width:780px)\": {\n      width: \"80%\"\n    }\n  },\n\n  contentContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: \"40px 20px 40px 20px\",\n\n    \"@media (min-width:780px)\": {\n      padding: \"40px 40px 40px 40px\"\n    }\n  },\n\n  dialogContent: {\n    padding: \"15px 20px 50px 20px\"\n  },\n\n  dialogTitleContainer: {\n    alignItems: \"center\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    fontSize: \"23px\",\n    fontWeight: 700,\n    height: \"60px\",\n    justifyContent: \"space-between\",\n    margin: \"10px 0 30px 0\",\n    padding: \"0 0 0 5px\"\n  },\n\n  iconButton: {\n    height: \"30px\",\n    width: \"30px\"\n  },\n\n  closeIcon: {\n    color: palette.blue[0],\n    margin: \"-5px -10px 0 0\"\n  },\n\n  link: {\n    color: palette.blue[0],\n    fontWeight: 700,\n    fontSize: \"13px\",\n    textDecoration: \"none\",\n    margin: \"5px 0 0 0\",\n\n    \"&:hover\": {\n      textDecoration: \"underline\"\n    }\n  },\n\n  list: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"auto\",\n    height: \"340px\",\n    margin: \"20px 0 0 0\"\n  },\n\n  listEmpty: {\n    alignItems: \"center\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    margin: \"20px 0 0 0\",\n    overflow: \"auto\",\n    height: \"340px\"\n  },\n\n  paperOptions: {\n    boxShadow: \"none\",\n    borderRadius: \"5px\",\n    margin: \"30px 0 0 0\",\n    minHeight: \"500px\",\n    minWidth: \"300px\",\n    width: \"100%\",\n\n    \"@media (min-width:780px)\": {\n      border: \"1px solid\",\n      borderColor: palette.gray[0],\n      margin: \"10vh 0 10vh 0\",\n      width: \"30%\"\n    }\n  },\n\n  paperOptionsEmpty: {\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    minHeight: '500px',\n    minWidth: '300px',\n    width: '100%',\n\n    '@media (min-width:780px)': {\n      border: '1px solid',\n      borderColor: palette.gray[0],\n      margin: '10vh 0 10vh 0',\n      width: '30%'\n    },\n  },\n\n  paperChart: {\n    boxShadow: \"none\",\n    borderRadius: \"5px\",\n    minHeight: \"500px\",\n    margin: \"30px 0 80px 0\",\n    width: \"100%\",\n\n    \"@media (min-width:780px)\": {\n      border: \"1px solid\",\n      borderColor: palette.gray[0],\n      margin: \"10vh 0 10vh 0\",\n      width: \"50%\"\n    },\n\n    \"@media (min-width:900px)\": {\n      width: \"55%\"\n    },\n\n    \"@media (min-width:1000px)\": {\n      width: \"60%\"\n    },\n\n    \"@media (min-width:1200px)\": {\n      width: \"65%\"\n    }\n  },\n\n  qrButtonContainer: {\n    alignItems: \"center\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n    padding: \"40px 20px 0 20px\",\n    maxWidth: \"400px\",\n    width: \"100%\"\n  },\n\n  qrButton: {\n    height: \"50px\",\n    margin: \"0 0 15px 0\",\n    width: \"100%\"\n  },\n\n  qrCode: {\n    margin: \"60px 0 20px 0\"\n  },\n\n  textSeperator: {\n    alignItems: \"center\",\n    color: palette.blue[0],\n    display: \"flex\",\n    flexDirection: \"column\",\n    fontSize: \"18px\",\n    fontWeight: 700,\n    height: \"60px\",\n    justifyContent: \"center\"\n  },\n\n  textField: {\n    margin: \"0 0 25px 0\"\n  },\n\n  currencySummary: {\n    alignItems: 'center',\n    color: palette.gray[2],\n    display: 'flex',\n    justifyContent: 'flex-end',\n    width: '100%',\n    fontWeight: '700',\n    fontSize: '13px',\n    margin: '-15px 0 20px 0'\n  }\n};\n\nclass Wallet extends Component {\n  state = {\n    address: '',\n    rate: 0,\n    balance: '',\n    email: '',\n    emailHelperText: '',\n    emailError: false,\n    amount: \"\",\n    amountHelperText: \"\",\n    amountError: false,\n    sendDialogOpen: false,\n    transactionListType: \"sent\",\n    transactionDialogOpen: false,\n    pendingConfirmation: false,\n    isLoading: false,\n    transactionType: EMAIL,\n    receivedList: [],\n    sentList: [],\n    depositList: [],\n    snackbarIsOpen: false,\n    snackbarVariant: \"success\",\n    snackbarMessage: \"\"\n  };\n\n  componentWillReceiveProps(newProps) {\n    const { address } = this.state\n    if (store.get('token') && address.length > 0) {\n      currency = newProps.currency\n      this.getAllTransactions(store.get('token'), address)\n    }\n  }\n\n  componentDidMount() {\n    if (store.get('token')) {\n      currency = this.props.currency\n      this.getWalletAddress(store.get('token'))\n    }\n  }\n\n  componentDidUnmount() {\n    if(timerID) {\n      clearInterval(timerID)\n    }\n  }\n\n  getWalletAddress = (token) => {\n    var checkAddress = Firebase.functions().httpsCallable('checkAddress')\n    checkAddress({ token: token }).then(function (result) {\n      if (result.data.success) {\n        this.getAllTransactions(token, result.data.address)\n        this.setTransactionService(token, result.data.address) \n      } else {\n        this.displaySnackbar('error', result.data.error)\n      }\n    }.bind(this))\n  }\n\n  setTransactionService = (token, address) => {\n    timerID = setInterval(function() {\n      this.getAllTransactions(token, address)\n    }.bind(this), 30000)\n  }\n\n  getAllTransactions = (token, address) => {\n    var onChainTransactions = this.getOnchainTransactions(token, address)\n    var sentTransactions = this.getSentTransactions(token)\n    var receivedTransactions = this.getReceivedTransactions(token)\n    var currentRate = this.getRate()\n\n    Promise.all([onChainTransactions, sentTransactions, receivedTransactions, currentRate]).then(responses => {\n      const deposits = responses[0].transfers\n      const sentTransactions = responses[1]\n      const receivedTransactions = responses[2]\n      const currentRate = responses[3]\n\n      var balance = 0\n      \n      deposits.map((deposit, index) => {\n        if (deposit.state === \"confirmed\" && deposit.type ===\"receive\") {\n          balance += deposit.value\n        }\n      })\n\n      sentTransactions.map((sentTransaction, index) => {\n        balance -= parseInt(sentTransaction.amount)\n      })\n\n      receivedTransactions.map((receivedTransaction, index) => {\n        balance += parseInt(receivedTransaction.amount)\n      })\n\n      this.setState({\n        address: address,\n        depositList: deposits,\n        sentList: sentTransactions,\n        receivedList: receivedTransactions,\n        balance: balance,\n        rate: parseFloat(currentRate)\n      })\n    })\n  }\n\n  getOnchainTransactions = (token, address) => {\n    var getOnchainTransactions = Firebase.functions().httpsCallable('getOnchainTransactions')\n    return getOnchainTransactions({ token: token, address: address }).then(function (result) {\n      if (result.data.success) {\n        return (result.data.response)\n      } else {\n        return ([])\n      }\n    }.bind(this))\n  }\n\n  getSentTransactions = (token) => {\n    var getSentTransactions = Firebase.functions().httpsCallable('getSentTransactions')\n    return getSentTransactions({ token: token }).then(function (result) {\n      if (result.data.success) {\n        return (result.data.transactions)\n      } else {\n        return ([])\n      }\n    }.bind(this))\n  }\n\n  getReceivedTransactions = (token) => {\n    var getReceivedTransactions = Firebase.functions().httpsCallable('getReceivedTransactions')\n    return getReceivedTransactions({ token: token }).then(function (result) {\n      if (result.data.success) {\n        return (result.data.transactions)\n      } else {\n        return ([])\n      }\n    }.bind(this))\n  }\n\n  getRate = () => {\n    var getRate = Firebase.functions().httpsCallable('getRate')\n    return getRate({ currency: currency }).then(function (result) {\n      if (result.data.success) {\n        return (result.data.rate)\n      } else {\n        return ([])\n      }\n    }.bind(this))\n  }\n\n  displaySnackbar = (variant, message) => {\n    this.setState({\n      snackbarIsOpen: true,\n      snackbarVariant: variant,\n      snackbarMessage: message\n    })\n  }\n\n  handleCopyCode = () => {\n    this.setState({\n      snackbarIsOpen: true,\n      snackbarVariant: \"success\",\n      snackbarMessage: \"Your wallet address was successfully copied.\"\n    });\n  };\n\n  onSnackBarClose = () => {\n    this.setState({\n      snackbarIsOpen: false\n    });\n  };\n\n  handleChange = name => event => {\n    event.preventDefault();\n\n    this.setState({\n      [name]: event.target.value,\n      emailHelperText: \"\",\n      emailError: false,\n      amountHelperText: \"\",\n      amountError: false\n    });\n  };\n\n  handleTransactionSwitch = (event, newTransactionListType) => {\n    this.setState({ transactionListType: newTransactionListType })\n  };\n\n  handleSendDialogClose = () => {\n    this.setState({ \n      sendDialogOpen: false\n     })\n  };\n\n  handleSendFunds = () => {\n    this.setState({\n      email: '',\n      amount: '',\n      sendDialogOpen: true\n     })\n  };\n\n  handleDownloadGiftReceipt = () => {\n    this.validateForms(GIFT)\n  };\n\n  handleSendEmail = () => {\n    this.validateForms(EMAIL)\n  };\n\n  handleCancelTransaction = () => {\n    this.setState({ pendingConfirmation: false })\n  };\n\n  handleViewTransactions = () => {\n    this.setState({ transactionDialogOpen: true })\n  };\n\n  handleTransactionDialogClose = () => {\n    this.setState({ transactionDialogOpen: false })\n  };\n\n  handleConfirmTransaction = () => {\n    const { transactionType, email, amount, address } = this.state\n    this.setState({ isLoading: true })\n\n    var postTransaction = Firebase.functions().httpsCallable('postTransaction')\n    return postTransaction({ token: store.get('token'), toEmail: email, amount: amount, type: transactionType }).then(function (result) {\n      if (result.data.success) {\n        this.displaySnackbar('success', \"Transaction successfully created.\")\n        \n        if (transactionType === GIFT) {\n          this.downloadGift()\n        } else {\n          this.sendEmail()\n        }\n\n        this.setState({\n          sendDialogOpen: false,\n          pendingConfirmation: false,\n          isLoading: false,\n        })\n\n        this.getAllTransactions(store.get('token'), address)\n        \n      } else {\n        this.displaySnackbar('error', result.data.error)\n      }\n    }.bind(this))\n  }\n  \n  sendEmail = () => {\n    const { email, amount } = this.state\n\n    var sendEmailReceipt = Firebase.functions().httpsCallable('sendEmailReceipt')\n    return sendEmailReceipt({ token: store.get('token'), toEmail: email, amount: amount }).then(function (result) {\n      if (result.data.success) {\n        this.displaySnackbar('success', \"Your email receipt has been sent.\")\n      } \n    }.bind(this))\n  }\n\n  // Download the gift certificate\n  downloadGift = async () => {\n    const { email, amount } = this.state\n    const blob = await pdf(\n      <Certificate email={email} amount={amount} />\n    ).toBlob();\n    saveAs(blob, \"Certificate.pdf\");\n  }\n\n  validateForms(type) {\n    const { email, amount, balance } = this.state;\n\n    var emailHasError = false;\n    var emailErrorText = \"\";\n\n    if (email === \"\") {\n      emailHasError = true;\n      emailErrorText = \"Please enter a valid email.\"\n    }\n\n    var amountHasError = false;\n    var amountErrorText = \"\";\n\n    if (amount === \"\") {\n      amountHasError = true;\n      amountErrorText = \"Please enter an amount.\"\n    } else if (!/^\\d+$/.test(amount)) {\n      amountHasError = true;\n      amountErrorText = \"This field should only contain numbers.\"\n    } else if (parseInt(amount) > balance) {\n      amountHasError = true;\n      amountErrorText = \"You cannot send more than your balance.\"\n    }\n\n    if (emailHasError || amountHasError) {\n      this.displayFormError(\n        emailHasError,\n        emailErrorText,\n        amountHasError,\n        amountErrorText\n      );\n    } else {\n      this.setState({\n        transactionType: type,\n        pendingConfirmation: true\n      });\n    }\n  }\n\n  displayFormError(\n    emailHasError,\n    emailErrorText,\n    amountHasError,\n    amountErrorText\n  ) {\n    this.setState({\n      emailError: emailHasError,\n      emailHelperText: emailErrorText,\n      amountError: amountHasError,\n      amountHelperText: amountErrorText\n    });\n  }\n\n  getTransactions() {\n    const { transactionListType, sentList, receivedList, depositList } = this.state\n    const { classes } = this.props\n\n    if (transactionListType === \"sent\") {\n      if (sentList.length === 0) {\n        return (\n          <div className={classes.listEmpty}>\n            <img src={bitcoinIcon} className={classes.bitcoinIcon} alt=\"\" />\n            No sent transactions\n          </div>\n        );\n      } else {\n        return (\n          <div className={classes.list}>\n            {\n              sentList.map((transaction, index) =>\n                <Transaction key={index} transaction={transaction} />\n              )\n            }\n          </div>\n        );\n      }\n    } else if (transactionListType === \"received\") {\n      if (receivedList.length === 0) {\n        return (\n          <div className={classes.listEmpty}>\n            <img src={bitcoinIcon} className={classes.bitcoinIcon} alt=\"\" />\n            No received transactions\n          </div>\n        );\n      } else {\n        return (\n          <div className={classes.list}>\n            {\n              receivedList.map((transaction, index) =>\n                <Transaction key={index} transaction={transaction} />\n              )\n            }\n          </div>\n        );\n      }\n    } else if (transactionListType === \"deposits\") {\n      if (depositList.length === 0) {\n        return (\n          <div className={classes.listEmpty}>\n            <img src={bitcoinIcon} className={classes.bitcoinIcon} alt=\"\" />\n            No deposits\n          </div>\n        );\n      } else {\n        return (\n          <div className={classes.list}>\n            {\n              depositList.map((deposit, index) =>\n                <Deposit key={index} deposit={deposit} />\n              )\n            }\n          </div>\n        );\n      }\n    }\n  }\n\n  render() {\n    const { address, balance, rate, email, emailHelperText, emailError, amount, amountHelperText, amountError, sendDialogOpen, snackbarIsOpen, snackbarVariant, snackbarMessage, transactionListType, transactionDialogOpen, pendingConfirmation, isLoading } = this.state\n    const { classes } = this.props\n\n    var btcBalance = bitcoinConverter(parseInt(balance), 'satoshi').to('BTC')\n    var formattedCurrency = currencyFormatter.format(rate * btcBalance, { code: currency })\n\n    return (\n      <div className={classes.container}>\n        {address !== \"\" ?\n          <Paper className={classes.paperOptions}>\n            <div className={classes.contentContainer}>\n              <Typography variant=\"h4\" gutterBottom>\n               {balance.toString()} Sats\n              </Typography>\n                {btcBalance.toString()} BTC - {formattedCurrency}\n\n              <QRCode className={classes.qrCode} color={palette.blue[0]} size={160} value={address} />\n              <div className={classes.address}>{address}</div>\n              <CopyToClipboard text={address}><a className={classes.link} href={\"#\"} onClick={this.handleCopyCode}>Copy</a></CopyToClipboard>\n              \n              <div className={classes.qrButtonContainer}>\n                <Button className={classes.qrButton} size=\"small\" variant={'contained'} color=\"primary\" onClick={this.handleSendFunds}>\n                  Send\n                  </Button>\n                <Button className={classes.qrButton} size=\"small\" variant={'contained'} color=\"secondary\" onClick={this.handleViewTransactions}>\n                  View transactions\n                  </Button>\n              </div>\n            </div>\n          </Paper>\n          :\n          <Paper className={classes.paperOptionsEmpty}>\n            <CircularProgress\n              className={classes.circularProgress}\n              variant=\"indeterminate\"\n              disableShrink\n              size={24}\n              thickness={4}\n            />\n          </Paper>\n        }\n\n\n        <Paper className={classes.paperChart}>\n          <Chart currency={currency}/>\n        </Paper>\n\n        <Dialog\n          onClose={this.handleSendDialogClose}\n          open={sendDialogOpen}\n          disableBackdropClick\n        >\n          <div className={classes.dialogContent}>\n            {pendingConfirmation ? (\n              <div className={classes.dialogTitleContainer}>\n                Confirm transaction\n                <div />\n              </div>\n            ) : (\n              <div className={classes.dialogTitleContainer}>\n                Send\n                <IconButton\n                  aria-label=\"menu\"\n                  className={classes.closeIcon}\n                  onClick={this.handleSendDialogClose}\n                >\n                  <img src={closeIcon} className={classes.iconButton} alt=\"\" />\n                </IconButton>\n              </div>\n            )}\n            <TextField\n              fullWidth\n              disabled={pendingConfirmation}\n              error={emailError}\n              className={classes.textField}\n              id=\"outlined-email\"\n              label=\"Email\"\n              name=\"email\"\n              type=\"email\"\n              helperText={emailHelperText}\n              value={email}\n              onChange={this.handleChange(\"email\")}\n              variant=\"outlined\"\n            />\n\n            <TextField\n              fullWidth\n              disabled={pendingConfirmation}\n              error={amountError}\n              className={classes.textField}\n              id=\"outlined-amount\"\n              label=\"Amount in Sats\"\n              name=\"amount\"\n              helperText={amountHelperText}\n              value={amount}\n              onChange={this.handleChange(\"amount\")}\n              variant=\"outlined\"\n            />\n\n            <div className = {classes.currencySummary}>\n            { bitcoinConverter(parseInt(amount), 'satoshi').to('BTC').toString()} BTC - {currencyFormatter.format(rate * bitcoinConverter(parseInt(amount), 'satoshi').to('BTC'), { code: currency })}\n            </div>\n\n            {pendingConfirmation ? (\n              <div>\n                <Button\n                  className={classes.confirmButton}\n                  size=\"large\"\n                  variant={\"contained\"}\n                  fullWidth\n                  onClick={this.handleConfirmTransaction}\n                >\n                  {isLoading ? (\n                    <CircularProgress\n                      variant=\"indeterminate\"\n                      disableShrink\n                      size={24}\n                      thickness={4}\n                    />\n                  ) : (\n                    \"Confirm transaction\"\n                  )}\n                </Button>\n\n                <Button\n                  disabled={isLoading}\n                  className={classes.cancelButton}\n                  size=\"large\"\n                  variant={\"contained\"}\n                  fullWidth\n                  onClick={this.handleCancelTransaction}\n                >\n                  Cancel\n                </Button>\n              </div>\n            ) : (\n              <div>\n                <Button\n                  className={classes.button}\n                  size=\"large\"\n                  variant={\"contained\"}\n                  color=\"primary\"\n                  fullWidth\n                  onClick={this.handleSendEmail}\n                >\n                  Send email\n                </Button>\n\n                <div className={classes.textSeperator}>Or</div>\n\n                <Button\n                  className={classes.button}\n                  size=\"large\"\n                  variant={\"contained\"}\n                  color=\"primary\"\n                  fullWidth\n                  onClick={this.handleDownloadGiftReceipt}\n                >\n                  Download gift receipt\n                </Button>\n              </div>\n            )}\n          </div>\n        </Dialog>\n\n        <Dialog\n          fullWidth\n          onClose={this.handleTransactionDialogClose}\n          open={transactionDialogOpen}\n          disableBackdropClick\n        >\n          <div className={classes.dialogContent}>\n            <div className={classes.dialogTitleContainer}>\n              Transactions\n\n              <IconButton aria-label=\"menu\" className={classes.closeIcon} onClick={this.handleTransactionDialogClose}>\n                <img src={closeIcon} className={classes.iconButton} alt=\"\" />\n              </IconButton>\n            </div>\n\n            <ToggleButtonGroup\n              value={transactionListType}\n              exclusive\n              onChange={this.handleTransactionSwitch}\n            >\n              <ToggleButton value=\"sent\">Sent</ToggleButton>\n              <ToggleButton value=\"received\">Received</ToggleButton>\n              <ToggleButton value=\"deposits\">Deposits</ToggleButton>\n            </ToggleButtonGroup>\n\n            {this.getTransactions()}\n          </div>\n        </Dialog>\n\n        <CustomSnackbar variant={snackbarVariant} message={snackbarMessage} open={snackbarIsOpen} onSnackBarClose={this.onSnackBarClose} />\n\n      </div>\n    );\n  }\n}\n\nWallet.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(Wallet);\n"]},"metadata":{},"sourceType":"module"}