{"ast":null,"code":"var _jsxFileName = \"/Users/satraj/Documents/web/satstreet/src/components/main/Signup.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport { withStyles } from '@material-ui/core/styles';\nimport { palette } from '../../constants/styles';\nimport logoIcon from '../../images/logo.png';\nimport Footer from './Footer';\nimport Firebase from '../../constants/firebase';\nconst styles = {\n  boldText: {\n    fontWeight: 700\n  },\n  button: {\n    margin: '30px 0 0 0'\n  },\n  container: {\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  contentContainer: {\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: '40px 20px 40px 20px',\n    '@media (min-width:780px)': {\n      padding: '40px 40px 40px 40px'\n    }\n  },\n  paper: {\n    position: 'absolute',\n    width: '100%',\n    boxShadow: 'none',\n    borderRadius: '5px',\n    '@media (min-width:780px)': {\n      top: '20%',\n      width: '500px',\n      border: '1px solid',\n      borderColor: palette.gray[0]\n    }\n  },\n  linkContainer: {\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    margin: '25px 0 30px 0',\n    width: '100%'\n  },\n  link: {\n    color: palette.blue[0],\n    fontWeight: 700,\n    fontSize: '15px',\n    textDecoration: 'none',\n    \"&:hover\": {\n      textDecoration: 'underline'\n    }\n  },\n  logoIcon: {\n    marginBottom: '30px',\n    objectFit: 'contain',\n    height: '40px',\n    width: '40px'\n  },\n  textField: {\n    marginTop: '25px'\n  },\n  verificationText: {\n    fontSize: '15px',\n    margin: '20px 0 30px 0',\n    letterSpacing: 0.3,\n    lineHeight: '20px'\n  }\n};\n\nclass Signup extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: '',\n      emailHelperText: '',\n      emailError: false,\n      password: '',\n      passwordHelperText: '',\n      passwordError: false,\n      verificationSent: false\n    };\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value,\n        emailHelperText: '',\n        emailError: false,\n        passwordHelperText: '',\n        passwordError: false\n      });\n    };\n\n    this.handleOnClick = event => {\n      this.validateForms();\n    };\n\n    this.createAccount = (email, password) => {\n      this.setState({\n        isLoading: true\n      });\n      var signUp = Firebase.functions().httpsCallable('signUp');\n      signUp({\n        email: email,\n        password: password\n      }).then(function (result) {\n        if (result.data.success) {\n          this.sendEmail(email);\n        } else {\n          alert(result.data.error);\n          this.setState({\n            isLoading: false\n          });\n        }\n      }.bind(this));\n    };\n\n    this.sendEmail = email => {\n      var sendEmail = Firebase.functions().httpsCallable('sendEmail');\n      sendEmail({\n        email: email\n      }).then(function (result) {\n        if (result.data.success) {\n          this.setState({\n            verificationSent: true\n          });\n        } else {\n          alert(result.data.error);\n        }\n\n        this.setState({\n          isLoading: false\n        });\n      }.bind(this));\n    };\n  }\n\n  validateForms() {\n    const _this$state = this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n    var emailHasError = false;\n    var emailErrorText = \"\";\n\n    if (email === \"\") {\n      emailHasError = true;\n      emailErrorText = \"Please enter a valid email.\";\n    }\n\n    var passwordHasError = false;\n    var passwordErrorText = \"\";\n\n    if (password === \"\") {\n      passwordHasError = true;\n      passwordErrorText = \"Please enter a password.\";\n    }\n\n    if (emailHasError || passwordHasError) {\n      this.displayFormError(emailHasError, emailErrorText, passwordHasError, passwordErrorText);\n    } else {\n      this.createAccount(email, password);\n    }\n  }\n\n  displayFormError(emailHasError, emailErrorText, passwordHasError, passwordErrorText) {\n    this.setState({\n      emailError: emailHasError,\n      emailHelperText: emailErrorText,\n      passwordError: passwordHasError,\n      passwordHelperText: passwordErrorText\n    });\n  }\n\n  render() {\n    const classes = this.props.classes;\n    const _this$state2 = this.state,\n          email = _this$state2.email,\n          emailHelperText = _this$state2.emailHelperText,\n          emailError = _this$state2.emailError,\n          password = _this$state2.password,\n          passwordHelperText = _this$state2.passwordHelperText,\n          passwordError = _this$state2.passwordError,\n          isLoading = _this$state2.isLoading,\n          verificationSent = _this$state2.verificationSent;\n    return React.createElement(\"div\", {\n      className: classes.container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.contentContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: logoIcon,\n      className: classes.logoIcon,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }), verificationSent ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Thank you for signing up.\"), React.createElement(\"div\", {\n      className: classes.verificationText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"We just sent a confirmation link to \", React.createElement(\"span\", {\n      className: classes.boldText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, email), \".\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }), \"If you did not receive it in your main inbox, please check your junk folder.\"), React.createElement(\"div\", {\n      className: classes.linkContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: classes.link,\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"Did not receive a confirmation email?\"), React.createElement(\"a\", {\n      className: classes.link,\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, \"Sign in\"))) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"Create an account\"), React.createElement(TextField, {\n      fullWidth: true,\n      error: emailError,\n      className: classes.textField,\n      id: \"outlined-email\",\n      label: \"Email\",\n      name: \"email\",\n      type: \"email\",\n      helperText: emailHelperText,\n      value: email,\n      onChange: this.handleChange('email'),\n      variant: \"outlined\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      fullWidth: true,\n      error: passwordError,\n      className: classes.textField,\n      id: \"outlined-password\",\n      label: \"Password\",\n      name: \"password\",\n      type: \"password\",\n      value: password,\n      helperText: passwordHelperText,\n      onChange: this.handleChange('password'),\n      variant: \"outlined\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }), React.createElement(Button, {\n      className: classes.button,\n      size: \"large\",\n      variant: 'contained',\n      color: \"primary\",\n      fullWidth: true,\n      onClick: this.handleOnClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, isLoading ? React.createElement(CircularProgress, {\n      variant: \"indeterminate\",\n      disableShrink: true,\n      size: 24,\n      thickness: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }) : 'Create account'), React.createElement(\"div\", {\n      className: classes.linkContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      className: classes.link,\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, \"Existing account? Sign in now\"))))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }));\n  }\n\n}\n\nSignup.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(Signup);","map":{"version":3,"sources":["/Users/satraj/Documents/web/satstreet/src/components/main/Signup.js"],"names":["React","Component","PropTypes","Button","CircularProgress","Paper","Typography","TextField","withStyles","palette","logoIcon","Footer","Firebase","styles","boldText","fontWeight","button","margin","container","display","justifyContent","contentContainer","flexDirection","alignItems","padding","paper","position","width","boxShadow","borderRadius","top","border","borderColor","gray","linkContainer","link","color","blue","fontSize","textDecoration","marginBottom","objectFit","height","textField","marginTop","verificationText","letterSpacing","lineHeight","Signup","state","email","emailHelperText","emailError","password","passwordHelperText","passwordError","verificationSent","handleChange","name","event","setState","target","value","handleOnClick","validateForms","createAccount","isLoading","signUp","functions","httpsCallable","then","result","data","success","sendEmail","alert","error","bind","emailHasError","emailErrorText","passwordHasError","passwordErrorText","displayFormError","render","classes","props","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Paper from '@material-ui/core/Paper'\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport { withStyles } from '@material-ui/core/styles'\nimport { palette } from '../../constants/styles'\nimport logoIcon from '../../images/logo.png'\nimport Footer from './Footer'\nimport Firebase from '../../constants/firebase'\n\nconst styles = {\n  boldText: {\n    fontWeight: 700\n  },\n\n  button: {\n    margin: '30px 0 0 0'\n  },\n\n  container: {\n    display: 'flex',\n    justifyContent: 'center'\n  },\n\n  contentContainer: {\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: '40px 20px 40px 20px',\n\n    '@media (min-width:780px)': {\n      padding: '40px 40px 40px 40px',\n    },\n  },\n\n  paper: {\n    position: 'absolute',\n    width: '100%',\n    boxShadow: 'none',\n    borderRadius: '5px',\n\n    '@media (min-width:780px)': {\n      top: '20%',\n      width: '500px',\n      border: '1px solid',\n      borderColor: palette.gray[0]\n    },\n  },\n\n  linkContainer: {\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    margin: '25px 0 30px 0',\n    width: '100%'\n  },\n\n  link: {\n    color: palette.blue[0],\n    fontWeight: 700,\n    fontSize: '15px',\n    textDecoration: 'none',\n\n    \"&:hover\": {\n      textDecoration: 'underline'\n    }\n  },\n\n  logoIcon: {\n    marginBottom: '30px',\n    objectFit: 'contain',\n    height: '40px',\n    width: '40px'\n  },\n\n  textField: {\n    marginTop: '25px'\n  },\n\n  verificationText: {\n    fontSize: '15px',\n    margin: '20px 0 30px 0',\n    letterSpacing: 0.3,\n    lineHeight: '20px',\n  }\n}\n\nclass Signup extends Component {\n  state = {\n    email: '',\n    emailHelperText: '',\n    emailError: false,\n    password: '',\n    passwordHelperText: '',\n    passwordError: false,\n    verificationSent: false\n  }\n\n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value,\n      emailHelperText: '',\n      emailError: false,\n      passwordHelperText: '',\n      passwordError: false\n    })\n  }\n\n  handleOnClick = event => {\n    this.validateForms()\n  }\n\n  validateForms() {\n    const { email, password } = this.state\n\n    var emailHasError = false\n    var emailErrorText = \"\"\n\n    if (email === \"\") {\n      emailHasError = true\n      emailErrorText = \"Please enter a valid email.\"\n    }\n\n    var passwordHasError = false\n    var passwordErrorText = \"\"\n\n    if (password === \"\") {\n      passwordHasError = true\n      passwordErrorText = \"Please enter a password.\"\n    }\n\n    if (emailHasError || passwordHasError) {\n      this.displayFormError(emailHasError, emailErrorText, passwordHasError, passwordErrorText)\n    } else {\n      this.createAccount(email, password)\n    }\n  }\n\n  displayFormError(emailHasError, emailErrorText, passwordHasError, passwordErrorText) {\n    this.setState({\n      emailError: emailHasError,\n      emailHelperText: emailErrorText,\n      passwordError: passwordHasError,\n      passwordHelperText: passwordErrorText\n    })\n  }\n\n  createAccount = (email, password) => {\n    this.setState({ isLoading: true })\n\n    var signUp = Firebase.functions().httpsCallable('signUp')\n    signUp({ email: email, password: password }).then(function (result) {\n      if (result.data.success) {\n        this.sendEmail(email)\n      } else {\n        alert(result.data.error)\n        this.setState({ isLoading: false })\n      }\n    }.bind(this))\n  }\n\n  sendEmail = (email) => {\n    var sendEmail = Firebase.functions().httpsCallable('sendEmail')\n    sendEmail({ email: email }).then(function (result) {\n      if (result.data.success) {\n        this.setState({ verificationSent: true})\n      } else {\n        alert(result.data.error)\n      }\n\n      this.setState({ isLoading: false })\n    }.bind(this))\n  }\n\n  render() {\n    const { classes } = this.props\n    const { email, emailHelperText, emailError, password, passwordHelperText, passwordError, isLoading, verificationSent } = this.state\n\n    return (\n      <div className={classes.container}>\n        <Paper className={classes.paper}>\n          <div className={classes.contentContainer}>\n            <img src={logoIcon} className={classes.logoIcon} alt=\"\" />\n\n            {\n              verificationSent ?\n\n              <div>\n                <Typography variant=\"h4\" gutterBottom>\n                  Thank you for signing up.\n                </Typography>\n\n                <div className={classes.verificationText}>\n                  We just sent a confirmation link to <span className={classes.boldText}>{email}</span>.<br /><br />If you did not receive it in your main inbox, please check your junk folder.\n                </div>\n\n                <div className={classes.linkContainer}>\n                  <a className={classes.link} href={\"/\"}>Did not receive a confirmation email?</a>\n                  <a className={classes.link} href={\"/\"}>Sign in</a>\n                </div>\n              </div>\n\n              :\n\n              <div>\n                <Typography variant=\"h4\" gutterBottom>\n                  Create an account\n                </Typography>\n\n                <TextField\n                  fullWidth\n                  error={emailError}\n                  className={classes.textField}\n                  id=\"outlined-email\"\n                  label=\"Email\"\n                  name=\"email\"\n                  type=\"email\"\n                  helperText={emailHelperText}\n                  value={email}\n                  onChange={this.handleChange('email')}\n                  variant=\"outlined\"\n                />\n\n                <TextField\n                  fullWidth\n                  error={passwordError}\n                  className={classes.textField}\n                  id=\"outlined-password\"\n                  label=\"Password\"\n                  name=\"password\"\n                  type=\"password\"\n                  value={password}\n                  helperText={passwordHelperText}\n                  onChange={this.handleChange('password')}\n                  variant=\"outlined\"\n                />\n\n                <Button\n                  className={classes.button}\n                  size=\"large\"\n                  variant={'contained'}\n                  color=\"primary\"\n                  fullWidth\n                  onClick={this.handleOnClick}\n                >\n                  {isLoading ? (\n                    <CircularProgress\n                      variant=\"indeterminate\"\n                      disableShrink\n                      size={24}\n                      thickness={4}\n                    />\n                  ) : (\n                      'Create account'\n                    )}\n                </Button>\n\n                <div className={classes.linkContainer}>\n                  <div />\n                  <a className={classes.link} href={\"/\"}>Existing account? Sign in now</a>\n                </div>\n\n              </div>\n            }\n          </div>\n        </Paper>\n        <Footer />\n      </div>\n    )\n  }\n}\n\nSignup.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(Signup)"]},"metadata":{},"sourceType":"module"}