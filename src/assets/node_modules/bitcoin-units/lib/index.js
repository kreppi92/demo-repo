'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_big=require('big.js'),_big2=_interopRequireDefault(_big),_units=require('./units'),units=_interopRequireWildcard(_units);function _interopRequireWildcard(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var convert=function(a,b,c){if(Number.isNaN(parseFloat(a))||!Number.isFinite(a))return 0;var d=(0,_big2.default)(a).times(units.getUnit(b));return parseFloat(d.div(units.getUnit(c)))},Bitcoin=function(){function a(b,c){_classCallCheck(this,a),this._value=b,this._unit=c}return _createClass(a,[{key:'to',value:function to(a){return this._value=convert(this._value,this._unit,a),this._unit=a,this}},{key:'value',value:function value(){return this._value}},{key:'format',value:function(){var a=Math.pow,b=units.getDisplay(this._unit),c=b.format,d=b.fractionDigits,e=b.trailing,f={maximumFractionDigits:d};e&&(f={minimumFractionDigits:d});var g=void 0===d?this._value:Math.floor(this._value*a(10,d))/a(10,d);var h=c.replace('{amount}',parseFloat(g).toLocaleString(void 0,f));return b.pluralize&&1!==this._value&&(h+='s'),h}},{key:'toString',value:function toString(){return this._value.toString()}}]),a}(),bitcoin=function(a,b){return new Bitcoin(a,b)};bitcoin.convert=convert,bitcoin.setDisplay=units.setDisplay,bitcoin.setUnit=units.setUnit,bitcoin.setFiat=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;units.setUnit(a,1/b,c)},exports.default=bitcoin,module.exports=exports['default'];